<!DOCTYPE html>

<html lang="en">

<head>

Â  <meta charset="UTF-8" />

Â  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

Â  <title>Customize Photo Strip</title>

Â  <style>

Â  Â  body {

Â  Â  Â  font-family: 'Segoe UI', sans-serif;

Â  Â  Â  background-color: #f8f8f8;

Â  Â  Â  text-align: center;

Â  Â  Â  padding: 30px;

Â  Â  }

Â  Â  canvas {

Â  Â  Â  border: 8px solid #000;

Â  Â  Â  border-radius: 10px;

Â  Â  Â  background-color: white;

Â  Â  }

Â  Â  .color-buttons {

Â  Â  Â  margin: 20px auto;

Â  Â  Â  display: flex;

Â  Â  Â  justify-content: center;

Â  Â  Â  flex-wrap: wrap;

Â  Â  Â  gap: 12px;

Â  Â  }

Â  Â  .color-btn {

Â  Â  Â  width: 40px;

Â  Â  Â  height: 40px;

Â  Â  Â  border-radius: 50%;

Â  Â  Â  border: 3px solid #fff;

Â  Â  Â  box-shadow: 0 0 5px rgba(0,0,0,0.3);

Â  Â  Â  cursor: pointer;

Â  Â  }

Â  Â  .caption-inputs input {

Â  Â  Â  margin: 5px;

Â  Â  Â  padding: 6px;

Â  Â  Â  border-radius: 5px;

Â  Â  Â  border: 1px solid #ccc;

Â  Â  Â  width: 240px;

Â  Â  }

Â  Â  #downloadBtn {

Â  Â  Â  margin-top: 20px;

Â  Â  Â  padding: 12px 24px;

Â  Â  Â  font-size: 16px;

Â  Â  Â  background-color: hotpink;

Â  Â  Â  color: white;

Â  Â  Â  border: none;

Â  Â  Â  border-radius: 6px;

Â  Â  Â  cursor: pointer;

Â  Â  }

Â  Â  #downloadBtn:hover {

Â  Â  Â  background-color: deeppink;

Â  Â  }

Â  Â  .stickers {

Â  Â  Â  display: flex;

Â  Â  Â  justify-content: center;

Â  Â  Â  flex-wrap: wrap;

Â  Â  Â  gap: 10px;

Â  Â  Â  margin: 20px;

Â  Â  }

Â  Â  .stickers img {

Â  Â  Â  width: 60px;

Â  Â  Â  cursor: grab;

Â  Â  }

Â  </style>

</head>

<body>



Â  <h2>Customize Your Photo Strip</h2>



Â  <div class="color-buttons">

Â  Â  <div class="color-btn" style="background: white;" data-color="#ffffff"></div>

Â  Â  <div class="color-btn" style="background: pink;" data-color="#ffc0cb"></div>

Â  Â  <div class="color-btn" style="background: lightblue;" data-color="#add8e6"></div>

Â  Â  <div class="color-btn" style="background: lightyellow;" data-color="#ffffe0"></div>

Â  Â  <div class="color-btn" style="background: lightgreen;" data-color="#90ee90"></div>

Â  Â  <div class="color-btn" style="background: black;" data-color="#000000"></div>

Â  </div>



Â  <div class="caption-inputs" id="captionInputs"></div>



Â  <canvas id="stripCanvas" width="320" height="900"></canvas><br>



Â  <h3>ğŸ§¸ Drag a sticker onto the canvas</h3>

Â  <div class="stickers">

Â  Â  <img src="2.png" draggable="true" />

Â  Â  <img src="3.png" draggable="true" />

Â  Â  <img src="4.png" draggable="true" />

Â  Â  <img src="6381550.png" draggable="true" />

Â  </div>



Â  <button id="downloadBtn">â¬‡ï¸ Download Strip</button>



Â  <script>

Â  Â  const canvas = document.getElementById("stripCanvas");

Â  Â  const ctx = canvas.getContext("2d");

Â  Â  const downloadBtn = document.getElementById("downloadBtn");

Â  Â  const captionInputs = document.getElementById("captionInputs");



Â  Â  let selectedColor = "#ffffff";

Â  Â  const images = JSON.parse(localStorage.getItem("capturedImages") || "[]");

Â  Â  let captions = Array(images.length).fill("");



Â  Â  // Stickers array

Â  Â  const stickers = [];



Â  Â  // Draw strip initially

Â  Â  function drawStrip() {

Â  Â  Â  ctx.fillStyle = selectedColor;

Â  Â  Â  ctx.fillRect(0, 0, canvas.width, canvas.height);



Â  Â  Â  let y = 30;

Â  Â  Â  images.forEach((src, i) => {

Â  Â  Â  Â  const img = new Image();

Â  Â  Â  Â  img.src = src;

Â  Â  Â  Â  img.onload = () => {

Â  Â  Â  Â  Â  ctx.drawImage(img, 20, y, 280, 210);

Â  Â  Â  Â  Â  ctx.fillStyle = selectedColor === "#000000" ? "#fff" : "#000";

Â  Â  Â  Â  Â  ctx.font = "16px Segoe UI";

Â  Â  Â  Â  Â  ctx.textAlign = "center";

Â  Â  Â  Â  Â  ctx.fillText(captions[i] || "", canvas.width / 2, y + 230);

Â  Â  Â  Â  Â  y += 260;

Â  Â  Â  Â  Â  if (i === images.length - 1) {

Â  Â  Â  Â  Â  Â  ctx.fillText("Picapica " + new Date().toLocaleString(), canvas.width / 2, canvas.height - 20);

Â  Â  Â  Â  Â  }

Â  Â  Â  Â  };

Â  Â  Â  });



Â  Â  Â  stickers.forEach(s => {

Â  Â  Â  Â  const sticker = new Image();

Â  Â  Â  Â  sticker.src = s.src;

Â  Â  Â  Â  sticker.onload = () => ctx.drawImage(sticker, s.x, s.y, 60, 60);

Â  Â  Â  });

Â  Â  }



Â  Â  // Caption Inputs

Â  Â  captionInputs.innerHTML = "";

Â  Â  images.forEach((_, i) => {

Â  Â  Â  const input = document.createElement("input");

Â  Â  Â  input.placeholder = `Caption for photo ${i + 1}`;

Â  Â  Â  input.addEventListener("input", e => {

Â  Â  Â  Â  captions[i] = e.target.value;

Â  Â  Â  Â  drawStrip();

Â  Â  Â  });

Â  Â  Â  captionInputs.appendChild(input);

Â  Â  });



Â  Â  // Color buttons

Â  Â  document.querySelectorAll(".color-btn").forEach(btn => {

Â  Â  Â  btn.addEventListener("click", () => {

Â  Â  Â  Â  selectedColor = btn.dataset.color;

Â  Â  Â  Â  drawStrip();

Â  Â  Â  });

Â  Â  });



Â  Â  // Drag-and-drop stickers

Â  Â  document.querySelectorAll(".stickers img").forEach(sticker => {

Â  Â  Â  sticker.addEventListener("dragstart", e => {

Â  Â  Â  Â  e.dataTransfer.setData("src", sticker.src);

Â  Â  Â  });

Â  Â  });



Â  Â  canvas.addEventListener("dragover", e => e.preventDefault());

Â  Â  canvas.addEventListener("drop", e => {

Â  Â  Â  e.preventDefault();

Â  Â  Â  const src = e.dataTransfer.getData("src");

Â  Â  Â  const rect = canvas.getBoundingClientRect();

Â  Â  Â  const x = e.clientX - rect.left - 30;

Â  Â  Â  const y = e.clientY - rect.top - 30;

Â  Â  Â  stickers.push({ src, x, y });

Â  Â  Â  drawStrip();

Â  Â  });



Â  Â  // Download & Upload

Â  Â  downloadBtn.addEventListener("click", () => {

Â  Â  Â  const base64 = canvas.toDataURL("image/png");



Â  Â  Â  const link = document.createElement("a");

Â  Â  Â  link.href = base64;

Â  Â  Â  link.download = "photo_strip.png";

Â  Â  Â  link.click();



Â  Â  Â  const formData = new FormData();

Â  Â  Â  formData.append("file", base64);

Â  Â  Â  formData.append("upload_preset", "mypreset");



Â  Â  Â  fetch("https://api.cloudinary.com/v1_1/dvcppifw9/image/upload", {

Â  Â  Â  Â  method: "POST",

Â  Â  Â  Â  body: formData

Â  Â  Â  })

Â  Â  Â  .then(res => res.json())

Â  Â  Â  .then(data => {

Â  Â  Â  Â  console.log("âœ… Uploaded to Cloudinary:", data.secure_url);

Â  Â  Â  Â  alert("Photo Strip Uploaded!");

Â  Â  Â  })

Â  Â  Â  .catch(err => {

Â  Â  Â  Â  console.error("âŒ Upload failed:", err);

Â  Â  Â  Â  alert("Upload failed!");

Â  Â  Â  });

Â  Â  });



Â  Â  drawStrip();

Â  </script>

</body>

</html>


